#:import Factory kivy.factory.Factory

<MyPopup@Popup>
    auto_dismiss: False
    size_hint: 0.3, 0.2
    pos_hint: {"x":0.4, "top":0.5}
    title:"Changes have been saved!"
    Button:
        text: "OK"
        font_site: 20
        on_release: root.dismiss()


<MyAccount>:
    name: "fifth"
    aID : pers_info
    MDCard:
        size_hint:None, None
        size: 350, 500
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        elevation:10
        padding:25
        spacing:25
        orientation:'vertical'

        ScrollView:
            do_scroll_x:False
            do_scroll_y:True

            GridLayout:
                id: user_info_layout
                cols: 1
                spacing: 10
                size_hint_y: None
                height: self.minimum_height
                anchor_x: 'center'


                MDLabel:
                    id: pers_info
                    text: "Check and modify your account information"
                    font_size: 20
                    halign: 'center'
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding: 25


                MDTextField:
                    mode: "round"
                    id: user_user
                    hint_text: "Refresh for your username"
                    icon_right: "account"
                    size_hint_x: None
                    width: 200
                    font_size: 18
                    pos_hint:{"center_x": 0.5}

                MDTextField:
                    mode: "round"
                    id: f_name
                    hint_text: "Refresh for your firstname"
                    icon_right: "rename"
                    size_hint_x: None
                    width: 200
                    font_size: 18
                    pos_hint:{"center_x": 0.5}

                MDTextField:
                    mode: "round"
                    id: l_name
                    hint_text: "Refresh for your last name"
                    icon_right: "rename"
                    size_hint_x: None
                    width: 200
                    font_size: 18
                    pos_hint:{"center_x": 0.5}

                MDTextField:
                    mode: "round"
                    id: b_day
                    hint_text: "Refresh for your birthday"
                    icon_right: "calendar-range"
                    size_hint_x: None
                    width: 200
                    font_size: 18
                    pos_hint:{"center_x": 0.5}

                MDTextField:
                    mode: "round"
                    id: eml
                    hint_text: "Refresh for your email"
                    icon_right: "email"
                    size_hint_x: None
                    width: 200
                    font_size: 18
                    pos_hint:{"center_x": 0.5}

                MDTextField:
                    mode: "round"
                    id: passs
                    hint_text: "Refresh for your password"
                    icon_right: "lock"
                    size_hint_x: None
                    width: 200
                    font_size: 18
                    pos_hint:{"center_x": 0.5}


                MDFillRoundFlatButton:
                    text: "Refresh"
                    font_size: 12
                    pos_hint: { "center_x": 0.5 }
                    on_press: root.change_hint_text()

                MDFillRoundFlatButton:
                    text: "Save"
                    font_size: 12
                    pos_hint: { "center_x": 0.5 }
                    on_release: Factory.MyPopup().open()
                    on_press: root.edit_user_info()
                      #root.change_hint_text()


                MDFillRoundFlatButton:
                    text: "Go back to menu"
                    font_size: 12
                    pos_hint: {"center_x": 0.5}
                    on_press:
                        app.root.current = "fourth"
                        root.manager.transition.direction = "down"

                MDFillRoundFlatButton:
                    text: "DELETE ACCOUNT"
                    font_size: 12
                    pos_hint: { "center_x": 0.5 }
                    on_press:
                        app.root.current = "tenth"
                        root.manager.transition.direction = "down"